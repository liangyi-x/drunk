<!DOCTYPE html>

<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>虚拟深海攀岩墙</title>
<style>
body, html { margin:0; padding:0; width:100%; height:100%; overflow:hidden; font-family:sans-serif; background:linear-gradient(to bottom,#000014,#000833);}
#climb-container { position:relative; width:100%; height:100%; overflow:hidden; }

/* 光粒 */
.particle { position:absolute; border-radius:50%; pointer-events:none; opacity:0.7; mix-blend-mode:screen; }

/* 岩墙面板 */
#wall { position:absolute; top:0; left:50%; transform:translateX(-50%); width:80%; height:100%; background:rgba(10,10,40,0.8); border-radius:12px; box-shadow:0 0 30px rgba(0,0,0,0.5); }

.rock-point {
position:absolute;
width:24px;
height:24px;
background:radial-gradient(circle,#33ccff,#000);
border-radius:50%;
box-shadow:0 0 12px #33ccff,0 0 24px #115577;
cursor:pointer;
transition: transform 0.2s ease, box-shadow 0.3s ease;
user-select:none;
}
.rock-point:hover { transform:scale(1.4); box-shadow:0 0 24px #33ccff,0 0 48px #33ccff,0 0 60px #115577; }

.glow { animation: glowPulse 2s ease-in-out infinite alternate; }
@keyframes glowPulse {
0% { transform:scale(1); box-shadow:0 0 12px #33ccff,0 0 24px #115577; }
50% { transform:scale(1.2); box-shadow:0 0 20px #33ccff,0 0 40px #33ccff,0 0 60px #115577; }
100% { transform:scale(1); box-shadow:0 0 12px #33ccff,0 0 24px #115577; }
}

/* 浮动迷雾 */
#fog { position:absolute; width:200%; height:200%; top:-50%; left:-50%; background:radial-gradient(circle,#000a 0%,transparent 60%),radial-gradient(circle,#0010 0%,transparent 70%); animation: fogMove 30s linear infinite; pointer-events:none; }
@keyframes fogMove { 0%{transform:translate(0,0);}100%{transform:translate(-20%,10%);} }

</style>
</head>
<body>
<div id="climb-container">
  <div id="fog"></div>
  <div id="wall"></div>
</div>

<script>
// 光粒生成
const container = document.getElementById('climb-container');
const particleCount = 80;
for(let i=0;i<particleCount;i++){
  const p = document.createElement('div');
  p.className='particle';
  const size = Math.random()*3+1;
  p.style.width = size+'px';
  p.style.height = size+'px';
  p.style.left = Math.random()*100+'%';
  p.style.top = Math.random()*100+'%';
  p.style.background = `rgba(50,200,255,${Math.random()*0.5+0.2})`;
  container.appendChild(p);
  animateParticle(p);
}

function animateParticle(el){
  const x = Math.random()*window.innerWidth;
  const y = Math.random()*window.innerHeight;
  const dur = Math.random()*5000+5000;
  el.animate([
    { transform:`translate(${x}px,${y}px)` },
    { transform:`translate(${x+Math.random()*30-15}px,${y+Math.random()*30-15}px)` }
  ], {duration:dur, iterations:Infinity, direction:'alternate'});
}

// 岩点生成
const wall = document.getElementById('wall');
const rockPoints = [];
for(let i=0;i<20;i++){
  const rp = document.createElement('div');
  rp.className='rock-point glow';
  rp.style.left=Math.random()*70+5+'%';
  rp.style.top=Math.random()*85+5+'%';
  wall.appendChild(rp);
  rockPoints.push(rp);

  // 可拖拽
  let offsetX, offsetY, dragging=false;
  rp.addEventListener('mousedown',e=>{
    dragging=true;
    offsetX=e.clientX-rp.offsetLeft;
    offsetY=e.clientY-rp.offsetTop;
    rp.style.transition='none';
  });
  window.addEventListener('mousemove',e=>{
    if(dragging){
      let nx=e.clientX-offsetX;
      let ny=e.clientY-offsetY;
      rp.style.left=nx+'px';
      rp.style.top=ny+'px';
    }
  });
  window.addEventListener('mouseup',e=>{
    dragging=false;
    rp.style.transition='';
  });

  // 点击发光呼吸
  rp.addEventListener('click',e=>{
    rp.classList.toggle('glow');
    e.stopPropagation();
  });
}
</script>

</body>
</html>
