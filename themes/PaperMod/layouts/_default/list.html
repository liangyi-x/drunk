{{- define "main" -}}

<div class="post-list">

  {{ $posts := where .Pages "Type" "posts" }}
  {{ $paginator := .Paginate $posts }}

  {{ range $paginator.Pages }}
    <article class="post-card" style="margin-bottom:2rem;">
      <header>
        <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        {{ with .Summary }}
          <p class="post-summary">{{ . }}</p>
        {{ end }}
        <div class="post-meta">
          <span>{{ .Date.Format "2006-01-02" }}</span>
          {{ with .Params.tags }}
          <span>Â· Tags: 
            {{ range $i, $tag := . }}
              {{ if $i }}, {{ end }}<a href="/tags/{{ $tag | urlize }}">{{ $tag }}</a>
            {{ end }}
          </span>
          {{ end }}
        </div>
      </header>
    </article>
  {{ end }}

</div>

{{ if $paginator }}
  {{ partial "pagination.html" (dict "paginator" $paginator "context" .) }}
{{ end }}

{{- end -}}
