{{ define "main" }}

<div class="post-list">

  {{/* 生成分页对象 */}}
  {{ $paginator := .Paginate .Pages }}

  {{/* 遍历当前页文章 */}}
  {{ range $paginator.Pages }}
    <article class="post-preview">
      <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
      <p>{{ if .Summary }}{{ .Summary }}{{ else }}{{ .Plain | truncate 150 }}{{ end }}</p>
    </article>
  {{ end }}

  {{/* 调用分页 partial */}}
  {{ partial "pagination.html" (dict "paginator" $paginator "context" .) }}

</div>

{{ end }}
