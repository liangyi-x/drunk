{{ define "main" }}
<style>
.broadcast-container {
  max-width: 720px;
  margin: 2rem auto;
  padding: 0 1rem;
}
.broadcast-title {
  text-align: center;
  font-size: 2rem;
  font-weight: 500;
  margin-bottom: 1rem;
  color: #222;
}
.broadcast-list {
  list-style: none;
  padding-left: 0;
}
.broadcast-item {
  margin-bottom: 1.5rem;
  padding: 0.8rem 1rem;
  border-left: 3px solid #ff6b6b;
  background: #fff9f8;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}
.broadcast-item .date {
  font-size: 0.85rem;
  color: #999;
  margin-bottom: 0.2rem;
}
.broadcast-item .content {
  font-size: 1.05rem;
  line-height: 1.6;
  color: #333;
  white-space: pre-wrap;
}
</style>

<div class="broadcast-container">
  <div class="broadcast-title">broadcast</div>
  <ul class="broadcast-list" id="broadcast-list">
    <!-- 广播内容由 JS 动态渲染 -->
  </ul>
</div>

<script>
async function loadBroadcast() {
  const res = await fetch("/broadcast/broadcast.json");
  if(!res.ok) return;
  const data = await res.json();
  const ul = document.getElementById("broadcast-list");
  ul.innerHTML = "";
  data.forEach(item => {
    const li = document.createElement("li");
    li.className = "broadcast-item";
    li.innerHTML = `
      <div class="date">${item.date}</div>
      <div class="content">${item.content}</div>
    `;
    ul.appendChild(li);
  });
}

document.addEventListener("DOMContentLoaded", loadBroadcast);
</script>
{{ end }}
